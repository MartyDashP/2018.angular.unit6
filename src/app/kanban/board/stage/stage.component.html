<div class="header">
  <p>{{stage.name}}</p>
  <button (click)="addTask()">+</button>
</div>

<div *ngFor="let task of stage.tasks let idTask = index">
  <app-task
    [task]="task"
    [isLastStage]="isLastStage"
    [isFirstStage]="isFirstStage"
    (eventMoveTask)="moveTask($event, idTask)"
    (eventShowDetails)="showDetails(idTask)">
  </app-task>
</div>
